<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Maya 4 — Alert Dashboard</title>
  <link rel="stylesheet" href="css/styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
</head>
<body>

  <!-- ═══ Navigation Bar ═══ -->
  <nav class="navbar">
    <div class="navbar-brand">Maya 4 Dashboard <span>Alert Analytics</span></div>
    <div class="nav-right">
      <div class="date-filter">
        <label>Date Range:</label>
        <input type="date" id="startDate" class="date-input">
        <span class="date-separator">to</span>
        <input type="date" id="endDate" class="date-input">
        <button id="applyFilter" class="filter-btn">Apply</button>
        <button id="resetFilter" class="filter-btn secondary">Reset</button>
      </div>
      <span class="nav-badge">SGT (UTC+8)</span>
    </div>
  </nav>

  <div class="page-container">

    <!-- ═══════════════════════════════════════════════════════
         Overview Dashboard
         ═══════════════════════════════════════════════════════ -->
    <div id="overview">
      <div class="page-header">
        <h1>Alert Overview</h1>
        <p class="subtitle">All "Basket Not Empty" alerts across Maya 4 — Nov 10, 2025 to Feb 4, 2026</p>
      </div>

      <div class="stat-cards">
        <div class="stat-card blue">
          <div class="label">Total Alerts</div>
          <div class="value">269</div>
          <div class="detail">across 4 baskets</div>
        </div>
        <div class="stat-card red">
          <div class="label">Veg Fryer 3</div>
          <div class="value">112</div>
          <div class="detail">highest volume</div>
        </div>
        <div class="stat-card orange">
          <div class="label">Veg Fryer 4</div>
          <div class="value">63</div>
          <div class="detail">2nd highest</div>
        </div>
        <div class="stat-card blue">
          <div class="label">Peak Hour</div>
          <div class="value">11 PM</div>
          <div class="detail">SGT</div>
        </div>
      </div>

      <div class="chart-wrapper">
        <div class="chart-title">Alerts per Day — Selected Time Range</div>
        <div class="chart-box"><canvas id="dailyAlerts"></canvas></div>
      </div>

      <div class="chart-wrapper">
        <div class="chart-title">All Baskets — Alerts by Hour of Day (SGT)</div>
        <div class="chart-box"><canvas id="overviewHourly"></canvas></div>
      </div>

      <div class="row">
        <div class="chart-wrapper">
          <div class="chart-title">Alert Distribution by Basket</div>
          <div class="chart-box" style="height:300px;"><canvas id="overviewDoughnut"></canvas></div>
        </div>
        <div class="insight-box" style="flex:1;">
          <h3>Key Findings</h3>
          <ul>
            <li><strong>Veg fryers account for 65% of all alerts</strong> — 175 out of 269 total, with Veg Fryer 3 being the worst offender.</li>
            <li><strong>Evening hours dominate</strong> — The 5 PM to 11 PM window (SGT) drives the majority of basket-not-empty events.</li>
            <li><strong>11 PM is consistently the peak</strong> — Across all baskets, this is the single busiest hour for alerts.</li>
            <li><strong>12 PM lunch rush</strong> — A secondary spike appears at noon, likely tied to high-volume order periods.</li>
            <li><strong>Early morning is quiet</strong> — 2 AM to 10 AM sees minimal alerts, confirming operational patterns.</li>
          </ul>
        </div>
      </div>
    </div>

  </div>

  <!-- ═══ Scripts (order matters) ═══ -->
  <script src="js/data-loader.js"></script>
  <script src="js/app.js"></script>
  <script src="js/overview.js"></script>

</body>
</html>
